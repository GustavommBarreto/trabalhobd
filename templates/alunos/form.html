{% extends "base.html" %}

{% block conteudo %}
<h1>
  {% if aluno %}
    Editar aluno
  {% else %}
    Novo aluno
  {% endif %}
</h1>

<form method="post" enctype="multipart/form-data">
  <p>
    <label>Nome:</label><br>
    <input type="text" name="nome" value="{{ aluno.nome if aluno else '' }}" required>
  </p>

  <p>
    <label>Data de nascimento:</label><br>
    <input type="date" name="data_nascimento"
           value="{{ aluno.data_nascimento if aluno else '' }}">
  </p>

  <p>
    <label>Matrícula:</label><br>
    <input type="text" name="matricula"
           value="{{ aluno.matricula if aluno else '' }}" required>
  </p>

  <p>
    <label>Turma:</label><br>
    <select name="id_turma" required>
      {% for turma in turmas %}
        <option value="{{ turma.id_turma }}"
          {% if aluno and aluno.id_turma == turma.id_turma %}selected{% endif %}>
          {{ turma.nome }} ({{ turma.ano_letivo }})
        </option>
      {% endfor %}
    </select>
  </p>

  <p>
    <label>Endereço (ID):</label><br>
    <input type="number" name="id_endereco"
           value="{{ aluno.id_endereco if aluno and aluno.id_endereco else '' }}">
  </p>

  <p>
    <label>Responsável (ID):</label><br>
    <input type="number" name="id_responsavel"
           value="{{ aluno.id_responsavel if aluno and aluno.id_responsavel else '' }}">
  </p>

  <p>
    <label>Foto:</label><br>
    <input type="file" name="foto">
  </p>

  <p>
    <button type="submit">Salvar</button>
    <a href="{{ url_for('ui_listar_alunos') }}">Voltar</a>
  </p>
</form>
{% endblock %}
